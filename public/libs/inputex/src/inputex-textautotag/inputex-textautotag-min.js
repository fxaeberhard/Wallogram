(function(){inputEx.TextAutoTag=function(a){inputEx.TextAutoTag.superclass.constructor.call(this,a);this.on("updated",this.handleUpdate,this,true)};Y.extend(inputEx.TextAutoTag,inputEx.Textarea,{setOptions:function(a){inputEx.TextAutoTag.superclass.setOptions.call(this,a);this.textKey=a.textKey||"context";this.tmpWordsCount=0;this.service=new inputEx.RPC.Service(a.smd||"yuiExtractor.smd",{success:this.initAutoTag,scope:this});this.autoTagMethodName=a.autoTagMethodName||"requestTags";this.tagEl=typeof(a.tagEl)=="string"?document.getElementById(a.tagEl):a.tagEl},initAutoTag:function(){this.serviceReady=true},addTags:function(a){this.tagEl.appendChild(inputEx.cn("span",null,null,a.ResultSet.Result.join(",")))},getTags:function(a,b){if(this.serviceReady){this.service[this.autoTagMethodName]({context:this.getValue()},b)}},handleUpdate:function(){var a=this.getValue();if(this.doWeRequest(a)){var b={success:function(c){this.addTags(c)},failure:function(c){},scope:this};this.getTags(a,b)}},handleResponse:function(f,e,h,g){console.log(this,"callback",f,e,h,g)},doWeRequest:function(b){var a=b.split(" ").length;if(true){this.tmpWordsCount=a;return true}return false}});inputEx.registerType("autotag",inputEx.Textarea)})();