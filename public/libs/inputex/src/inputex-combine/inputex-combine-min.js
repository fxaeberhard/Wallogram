YUI.add("inputex-combine",function(c){var b=c.Lang,a=c.inputEx;a.CombineField=function(d){a.CombineField.superclass.constructor.call(this,d)};c.extend(a.CombineField,a.Group,{setOptions:function(d){a.CombineField.superclass.setOptions.call(this,d);this.options.className=d.className?d.className:"inputEx-CombineField";this.options.separators=d.separators},render:function(){this.divEl=a.cn("div",{className:this.options.className});if(this.options.id){this.divEl.id=this.options.id}if(b.isString(this.options.label)){this.labelDiv=a.cn("div",{id:this.divEl.id+"-label",className:"inputEx-label","for":this.divEl.id+"-field"});this.labelEl=a.cn("label",null,null,this.options.label===""?"&nbsp;":this.options.label);this.labelDiv.appendChild(this.labelEl);this.divEl.appendChild(this.labelDiv)}this.renderFields(this.divEl);if(this.options.disabled){this.disable()}this.divEl.appendChild(a.cn("div",{className:"inputEx-clear-div"},null," "))},renderFields:function(g){this.appendSeparator(0);if(!this.options.fields){return}var e,l=this.options.fields.length,h,k,j,d;for(e=0;e<l;e++){h=this.options.fields[e];if(this.options.required){h.required=true}k=this.renderField(h);j=k.getEl();d=h.type;if(d!="group"&&d!="form"){k.divEl.removeChild(j.childNodes[j.childNodes.length-1])}c.one(j).setStyle("float","left");this.divEl.appendChild(j);this.appendSeparator(e+1)}this.setFieldName(this.options.name)},renderField:function(d){if(this.options.required){d.required=true}return a.CombineField.superclass.renderField.call(this,d)},setFieldName:function(e){if(e){for(var f=0;f<this.inputs.length;f++){var d="";if(this.inputs[f].options.name){d=e+"["+this.inputs[f].options.name+"]"}else{d=e+"["+f+"]"}this.inputs[f].setFieldName(d)}}},appendSeparator:function(e){if(this.options.separators&&this.options.separators[e]){var d=a.cn("div",{className:"inputEx-CombineField-separator"},null,this.options.separators[e]);this.divEl.appendChild(d)}},initEvents:function(){var d=this,f;a.CombineField.superclass.initEvents.apply(this,arguments);var e=c.one(this.divEl);e.on("focusout",function(g){g=b.merge(g);f=window.setTimeout(function(){f=null;d.onBlur(g)},25)});e.on("focusin",function(g){if(f!==null){window.clearTimeout(f);f=null}else{d.onFocus(g)}})},setValue:function(d,e){if(!d){return}var f,g=this.inputs.length;for(f=0;f<g;f++){this.inputs[f].setValue(d[f],false)}this.runFieldsInteractions();if(e!==false){this.fireUpdatedEvt()}},getValue:function(){var d=[],e,f=this.inputs.length;for(e=0;e<f;e++){d.push(this.inputs[e].getValue())}return d},destroy:function(){c.one(this.divEl).destroy();a.CombineField.superclass.destroy.call(this)}});a.registerType("combine",a.CombineField,[{type:"list",name:"fields",label:"Elements",required:true,elementType:{type:"type"}},{type:"list",name:"separators",label:"Separators",required:true}])},"3.1.0",{requires:["inputex-group"]});