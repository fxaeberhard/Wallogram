YUI.add("inputex-multiautocomplete",function(c){var b=c.Lang,a=c.inputEx;a.MultiAutoComplete=function(d){a.MultiAutoComplete.superclass.constructor.call(this,d)};c.extend(a.MultiAutoComplete,a.AutoComplete,{renderComponent:function(){a.MultiAutoComplete.superclass.renderComponent.call(this);this.ddlist=new a.DDListField({parentEl:this.fieldContainer});this.ddlist.on("itemRemoved",function(){this.setClassFromState();this.fireUpdatedEvt()},this);this.ddlist.on("updated",this.fireUpdatedEvt,this)},setOptions:function(d){a.MultiAutoComplete.superclass.setOptions.call(this,d);this.options.returnLabel=d.returnLabel},itemSelectHandler:function(d){d.halt();var f=d.result;var g=b.isFunction(this.options.returnValue)?this.options.returnValue(f):f.raw;var e=b.isFunction(this.options.returnLabel)?this.options.returnLabel(f):g;this.ddlist.addItem({label:e,value:g});this.el.value="";this.hiddenEl.value=this.stringifyValue();this.fireUpdatedEvt();this.onChange();this.yEl.ac.hide()},setValue:function(e,d){this.ddlist.setValue(e);this.setClassFromState();if(d!==false){this.fireUpdatedEvt()}},getValue:function(){return this.ddlist.getValue()},getState:function(){var d=this.getValue();if(d.length===0){return this.options.required?a.stateRequired:a.stateEmpty}return this.validate()?a.stateValid:a.stateInvalid},validate:function(){return true},onChange:function(d){if(this.hiddenEl.value!=this.stringifyValue()){this.hiddenEl.value=this.stringifyValue()}},onBlur:function(){this.el.value="";if(this.el.value===""&&this.options.typeInvite){Dom.addClass(this.divEl,"inputEx-typeInvite");if(this.el.value===""){this.el.value=this.options.typeInvite}}},stringifyValue:function(){return c.JSON.stringify(this.getValue())}});a.registerType("multiautocomplete",a.MultiAutoComplete)},"3.1.0",{requires:["inputex-autocomplete","json","inputex-ddlist"]});